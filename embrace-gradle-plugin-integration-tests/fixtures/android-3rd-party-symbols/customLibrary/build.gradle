plugins {
    id("com.android.library")
}

def agpVersion = project.findProperty("agp_version") ?: "8.0.0"
def agpMajorVersion = agpVersion.toString().split("\\.")[0].toInteger()
if (agpMajorVersion < 9) {
    apply plugin: "org.jetbrains.kotlin.android"
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

android {
    namespace 'com.example.customLibrary'
    compileSdk 36
    ndkVersion "27.0.12077973"

    defaultConfig {
        minSdk 26
        ndk {
            abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64' // Supported architectures
        }
    }

    externalNativeBuild {
        cmake {
            path "src/main/cpp/CMakeLists.txt" // Path to the CMake build script
            version = "3.22.1"
        }
    }
}
